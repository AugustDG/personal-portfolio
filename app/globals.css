@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: "Fira Code", ui-monospace, SFMono-Regular, monospace;
    font-feature-settings: "liga" 1, "calt" 1;
  }

  body {
    @apply bg-terminal-bg-light dark:bg-terminal-bg-dark;
    @apply text-terminal-text-primary-light dark:text-terminal-text-primary-dark;
    @apply font-mono;
    transition: background-color 0.2s ease, color 0.2s ease;
  }
}

@layer components {
  .terminal-window {
    @apply bg-terminal-bg-light dark:bg-terminal-bg-dark;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply rounded-lg shadow-2xl;
    @apply min-h-screen md:min-h-[95vh] md:max-h-[95vh];
    @apply overflow-hidden;
  }

  .terminal-header {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply px-4 py-2 flex items-center space-x-2;
    @apply border-b border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-full;
  }

  .terminal-content {
    @apply p-4 overflow-y-auto;
    @apply h-[calc(100vh-80px)] md:h-[calc(95vh-80px)];
    @apply pb-20 md:pb-4;
  }

  .terminal-prompt {
    @apply text-terminal-prompt-light dark:text-terminal-prompt-dark;
    @apply font-medium;
  }

  .terminal-input {
    @apply bg-transparent border-none outline-none;
    @apply text-terminal-text-primary-light dark:text-terminal-text-primary-dark;
    @apply flex-1 ml-2 font-mono;
    @apply text-base md:text-sm;
  }

  .terminal-input::placeholder {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .autocomplete-chip {
    @apply inline-block bg-terminal-accent-blue/20 text-terminal-accent-blue;
    @apply px-2 py-1 rounded text-xs mr-2 mb-2;
    @apply cursor-pointer hover:bg-terminal-accent-blue/30;
    @apply transition-colors duration-200;
  }

  .command-output {
    @apply mb-4 font-mono text-sm leading-relaxed;
  }

  .accent-green {
    @apply text-terminal-accent-green;
  }
  .accent-amber {
    @apply text-terminal-accent-amber;
  }
  .accent-cyan {
    @apply text-terminal-accent-cyan;
  }
  .accent-magenta {
    @apply text-terminal-accent-magenta;
  }
  .accent-blue {
    @apply text-terminal-accent-blue;
  }
  .accent-purple {
    @apply text-terminal-accent-purple;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Vim Modal Styles */
  .vim-modal-overlay {
    @apply fixed inset-0 bg-black/80 backdrop-blur-sm z-50;
    @apply flex items-center justify-center p-4;
    animation: fadeIn 0.2s ease-out;
  }

  .vim-modal-overlay.vim-modal-closing {
    animation: fadeOut 0.2s ease-in;
  }

  .vim-modal {
    @apply bg-terminal-bg-light dark:bg-terminal-bg-dark;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply rounded-lg shadow-2xl;
    @apply w-full max-w-4xl max-h-[90vh];
    @apply flex flex-col;
    @apply transition-all duration-300 ease-in-out;
    animation: slideIn 0.2s ease-out;
  }

  .vim-modal-maximized {
    @apply max-w-[95vw] max-h-[95vh];
    @apply w-full h-full;
    @apply m-4;
  }

  .vim-modal.vim-modal-content-closing {
    animation: slideOut 0.2s ease-in;
  }

  .vim-header {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply border-b border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply flex items-center justify-between px-4 py-2;
    @apply rounded-t-lg;
  }

  .vim-tabs {
    @apply flex items-center space-x-2;
  }

  .vim-tab {
    @apply bg-terminal-bg-light dark:bg-terminal-bg-dark;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply rounded-t px-3 py-1 text-sm;
    @apply flex items-center space-x-2;
  }

  .vim-tab-active {
    @apply border-b-transparent;
    @apply bg-terminal-bg-light dark:bg-terminal-bg-dark;
  }

  .vim-tab-icon {
    @apply text-terminal-accent-green text-xs;
  }

  .vim-tab-name {
    @apply text-terminal-text-primary-light dark:text-terminal-text-primary-dark;
    @apply font-mono text-sm;
  }

  .vim-tab-close {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
    @apply hover:text-terminal-accent-amber transition-colors;
    @apply ml-2 text-sm;
  }

  .vim-window-controls {
    @apply flex items-center space-x-2;
  }

  .vim-control {
    @apply w-6 h-6 rounded-full text-xs font-bold;
    @apply flex items-center justify-center;
    @apply transition-colors duration-200;
  }

  .vim-minimize {
    @apply bg-yellow-500 hover:bg-yellow-600 text-yellow-900;
  }

  .vim-minimize-disabled {
    @apply bg-gray-400 text-gray-600 cursor-not-allowed;
    @apply hover:bg-gray-400;
  }

  .vim-maximize {
    @apply bg-green-500 hover:bg-green-600 text-green-900;
  }

  .vim-close {
    @apply bg-red-500 hover:bg-red-600 text-red-900;
  }

  .vim-status-bar {
    @apply bg-terminal-accent-blue/20 text-terminal-accent-blue;
    @apply px-4 py-1 text-xs font-mono;
    @apply flex items-center justify-between;
    @apply border-b border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .vim-mode {
    @apply px-2 py-1 rounded text-xs font-bold;
  }

  .vim-file-info {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .vim-metadata {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .vim-cursor-info {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .vim-content {
    @apply flex flex-1 overflow-hidden;
  }

  .vim-line-numbers {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply border-r border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply px-3 py-4 text-right;
    @apply min-w-[60px] max-w-[60px];
    @apply overflow-hidden;
  }

  .vim-line-number {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
    @apply font-mono text-xs leading-6;
    @apply select-none;
  }

  .vim-editor {
    @apply flex-1 overflow-auto p-4;
    @apply text-terminal-text-primary-light dark:text-terminal-text-primary-dark;
    @apply font-mono text-sm leading-6;
  }

  .vim-image-container {
    @apply flex flex-col items-center space-y-4;
  }

  .vim-image {
    @apply max-w-full max-h-[60vh] object-contain;
    @apply rounded border border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply shadow-lg;
  }

  .vim-image-caption {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
    @apply text-center text-sm;
  }

  .vim-text-content {
    @apply space-y-6;
  }

  .vim-project-meta {
    @apply space-y-4 pb-6;
    @apply border-b border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .vim-tech-stack {
    @apply space-y-2;
  }

  .vim-label {
    @apply text-terminal-accent-cyan font-semibold;
  }

  .vim-project-links {
    @apply flex space-x-4;
  }

  .vim-link {
    @apply text-terminal-accent-cyan hover:text-terminal-accent-amber;
    @apply transition-colors underline decoration-dotted;
  }

  .vim-main-content {
    @apply max-w-none;
  }

  .vim-main-content h1 {
    @apply text-2xl font-bold mb-4 text-terminal-accent-green;
  }

  .vim-main-content h2 {
    @apply text-xl font-bold mb-3 text-terminal-accent-cyan;
  }

  .vim-main-content h3 {
    @apply text-lg font-bold mb-2 text-terminal-accent-amber;
  }

  .vim-main-content p {
    @apply mb-4 leading-relaxed;
  }

  .vim-main-content ul,
  .vim-main-content ol {
    @apply mb-4 ml-6;
  }

  .vim-main-content li {
    @apply mb-1;
  }

  .vim-main-content ul li {
    @apply list-disc;
  }

  .vim-main-content ol li {
    @apply list-decimal;
  }

  .vim-main-content a {
    @apply text-terminal-accent-cyan hover:text-terminal-accent-amber;
    @apply transition-colors underline decoration-dotted;
  }

  .vim-main-content code {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply px-1 py-0.5 rounded text-sm;
    @apply text-terminal-accent-green;
  }

  .vim-main-content pre {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply p-4 rounded mb-4 overflow-x-auto;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .vim-main-content blockquote {
    @apply border-l-4 border-terminal-accent-blue pl-4 mb-4;
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
    @apply italic;
  }

  .vim-main-content img {
    @apply max-w-full h-auto rounded mb-4;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .vim-main-content table {
    @apply w-full border-collapse mb-4;
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
  }

  .vim-main-content th,
  .vim-main-content td {
    @apply border border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply px-3 py-2 text-left;
  }

  .vim-main-content th {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply font-semibold text-terminal-accent-cyan;
  }

  .vim-command-line {
    @apply bg-terminal-frame-light dark:bg-terminal-frame-dark;
    @apply border-t border-terminal-frame-light dark:border-terminal-frame-dark;
    @apply px-4 py-2 font-mono text-sm;
    @apply flex items-center space-x-1;
    @apply rounded-b-lg;
  }

  .vim-command-prompt {
    @apply text-terminal-accent-green;
  }

  .vim-command-input {
    @apply bg-transparent border-none outline-none;
    @apply text-terminal-text-primary-light dark:text-terminal-text-primary-dark;
    @apply flex-1 font-mono text-sm;
  }

  .vim-command-input::placeholder {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .vim-command-text {
    @apply text-terminal-text-secondary-light dark:text-terminal-text-secondary-dark;
  }

  .vim-cursor {
    @apply text-terminal-accent-cyan animate-pulse;
  }

  /* Animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: scale(0.95) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slideOut {
    from {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
    to {
      opacity: 0;
      transform: scale(0.95) translateY(-10px);
    }
  }
}
